[gd_scene load_steps=22 format=3 uid="uid://bty2oxq2nwcn6"]

[ext_resource type="Script" path="res://Scripts/player.gd" id="1_22t7u"]
[ext_resource type="PackedScene" uid="uid://dnnv6na38hyhh" path="res://Scenes/Explosions/ground_explosion.tscn" id="2_5q8jb"]
[ext_resource type="Script" path="res://Scripts/Amulets/amulet_system.gd" id="2_sxsw1"]
[ext_resource type="Script" path="res://Scripts/Weapon/weapon.gd" id="4_db2y7"]
[ext_resource type="PackedScene" uid="uid://b4gt65xd5xb3n" path="res://Scenes/Menus/amulet_icon_template.tscn" id="4_e8l5m"]
[ext_resource type="PackedScene" uid="uid://c8lspr0ou0j8r" path="res://Scenes/amulet_timer.tscn" id="5_382f2"]
[ext_resource type="PackedScene" uid="uid://cwtnwotylrivo" path="res://Scenes/amulet_timer_bar.tscn" id="5_ewkn8"]
[ext_resource type="Script" path="res://Scripts/trail.gd" id="9_lardo"]
[ext_resource type="Script" path="res://Scripts/Amulets/amulet_timers.gd" id="9_nhkjf"]
[ext_resource type="Texture2D" uid="uid://cqnn5wprrxkk" path="res://Textures/Player/1.png" id="15_rej4y"]
[ext_resource type="Texture2D" uid="uid://bfllsgqcnea8h" path="res://Textures/Player/2.png" id="16_udaus"]
[ext_resource type="Texture2D" uid="uid://bnqy5phdfqc8y" path="res://Textures/Player/3.png" id="17_5dhva"]
[ext_resource type="Texture2D" uid="uid://icl8g7dyq38u" path="res://Textures/Player/4.png" id="18_mxoim"]
[ext_resource type="Texture2D" uid="uid://sj3gqiiuldle" path="res://Textures/Player/5.png" id="19_ouaol"]
[ext_resource type="Texture2D" uid="uid://c0kt14syxving" path="res://Textures/Player/6.png" id="20_j7w74"]
[ext_resource type="Texture2D" uid="uid://cp2xyb0wba0sr" path="res://Textures/Player/7.png" id="21_8taeu"]
[ext_resource type="Texture2D" uid="uid://w8sie85hw4eo" path="res://Textures/Player/8.png" id="22_8wiyi"]

[sub_resource type="LabelSettings" id="LabelSettings_avjva"]
outline_size = 7
outline_color = Color(0.00351917, 0.00351917, 0.00351917, 1)

[sub_resource type="SceneReplicationConfig" id="SceneReplicationConfig_ftbv5"]
properties/0/path = NodePath("Trail/Trail:points")
properties/0/spawn = true
properties/0/replication_mode = 2
properties/1/path = NodePath("Trail/Trail2:points")
properties/1/spawn = true
properties/1/replication_mode = 2
properties/2/path = NodePath("Trail/Trail3:points")
properties/2/spawn = true
properties/2/replication_mode = 2
properties/3/path = NodePath(".:REMOTE_PLAYER_POSITION")
properties/3/spawn = true
properties/3/replication_mode = 1
properties/4/path = NodePath("Trail/Trail:default_color")
properties/4/spawn = true
properties/4/replication_mode = 2
properties/5/path = NodePath("Trail/Trail2:default_color")
properties/5/spawn = true
properties/5/replication_mode = 2
properties/6/path = NodePath("Trail/Trail3:default_color")
properties/6/spawn = true
properties/6/replication_mode = 2
properties/7/path = NodePath(".:scale")
properties/7/spawn = true
properties/7/replication_mode = 2

[sub_resource type="RectangleShape2D" id="RectangleShape2D_uu4jv"]
size = Vector2(21.4286, 50)

[sub_resource type="SpriteFrames" id="SpriteFrames_ob57i"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("15_rej4y")
}],
"loop": true,
"name": &"jump",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("15_rej4y")
}, {
"duration": 1.0,
"texture": ExtResource("16_udaus")
}, {
"duration": 1.0,
"texture": ExtResource("17_5dhva")
}, {
"duration": 1.0,
"texture": ExtResource("18_mxoim")
}, {
"duration": 1.0,
"texture": ExtResource("19_ouaol")
}, {
"duration": 1.0,
"texture": ExtResource("20_j7w74")
}, {
"duration": 1.0,
"texture": ExtResource("21_8taeu")
}, {
"duration": 1.0,
"texture": ExtResource("22_8wiyi")
}],
"loop": true,
"name": &"walk",
"speed": 13.0
}]

[node name="Player" type="CharacterBody2D" node_paths=PackedStringArray("animated_sprite", "trail", "weapon", "amulet_system", "multiplayer_synchronizer", "collision_shape", "nickname_label", "feet")]
self_modulate = Color(1, 1, 1, 0)
z_index = 6
scale = Vector2(1.4, 1.4)
script = ExtResource("1_22t7u")
SPEED = 0.0
MAX_JUMP_VEL = -1000.0
DASH_SPEED_BOOST = 600.0
DASH_DURATION = 0.2
STOP_DURATION = 0.6
STOP_COOLDOWN = 1.5
animated_sprite = NodePath("AnimatedSprite2D")
trail = NodePath("Trail")
weapon = NodePath("Weapon")
amulet_system = NodePath("Amulets")
multiplayer_synchronizer = NodePath("MultiplayerSynchronizer")
collision_shape = NodePath("CollisionShape2D")
nickname_label = NodePath("Nickname")
feet = NodePath("Feet")
landing_particles_prefab = ExtResource("2_5q8jb")

[node name="Feet" type="Node2D" parent="."]
position = Vector2(14.2857, 32.1429)
scale = Vector2(2, 2)

[node name="Nickname" type="Label" parent="."]
offset_left = -54.2857
offset_top = -53.5714
offset_right = 52.7143
offset_bottom = -30.5714
label_settings = SubResource("LabelSettings_avjva")
horizontal_alignment = 1

[node name="MultiplayerSynchronizer" type="MultiplayerSynchronizer" parent="." groups=["multiplayer_sync"]]
replication_config = SubResource("SceneReplicationConfig_ftbv5")

[node name="Trail" type="Node" parent="." node_paths=PackedStringArray("trails", "amulet_system")]
script = ExtResource("9_lardo")
trails = [NodePath("Trail"), NodePath("Trail2"), NodePath("Trail3")]
amulet_system = NodePath("../Amulets")

[node name="Trail" type="Line2D" parent="Trail"]
default_color = Color(1, 1, 1, 0.321569)

[node name="Trail2" type="Line2D" parent="Trail"]
position = Vector2(12, -16)
width = 5.0
default_color = Color(1, 1, 1, 0.321569)

[node name="Trail3" type="Line2D" parent="Trail"]
position = Vector2(-13, 14)
width = 5.0
default_color = Color(1, 1, 1, 0.321569)

[node name="Weapon" type="Sprite2D" parent="."]
z_index = 3
position = Vector2(13.5714, 5.71429)
scale = Vector2(6, 6)
script = ExtResource("4_db2y7")

[node name="AmuletTimers" type="Node" parent="." node_paths=PackedStringArray("weapon")]
script = ExtResource("9_nhkjf")
amulet_timer_prefab = ExtResource("5_382f2")
weapon = NodePath("../Weapon")

[node name="Amulets" type="Node" parent="." node_paths=PackedStringArray("amulet_timers", "animation_player")]
script = ExtResource("2_sxsw1")
amulet_icon_template = ExtResource("4_e8l5m")
amulet_timers = NodePath("../AmuletTimers")
amulet_timer_bar = ExtResource("5_ewkn8")
animation_player = NodePath("../AnimationPlayer")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(1.42857, 6.42857)
shape = SubResource("RectangleShape2D_uu4jv")

[node name="SpeedUpTimer" type="Timer" parent="."]
wait_time = 2.0
autostart = true

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
position = Vector2(0.5, 0.5)
scale = Vector2(2, 2)
sprite_frames = SubResource("SpriteFrames_ob57i")
animation = &"jump"
autoplay = "walk"
frame_progress = 0.969207
speed_scale = 2.0

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]

[connection signal="timeout" from="SpeedUpTimer" to="." method="_on_speed_up_timer_timeout"]
